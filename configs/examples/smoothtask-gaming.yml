# Конфигурация SmoothTask для игровых систем
# Оптимизирована для игровых ПК с фокусом на низкую задержку и высокую отзывчивость

# Уменьшенный интервал опроса для максимально быстрой реакции
# Это особенно важно для игр, где каждая миллисекунда имеет значение
polling_interval_ms: 100

# Увеличенное количество кандидатов для обработки игровых процессов
max_candidates: 300

# Режим "сухого прогона" по умолчанию - отключено
# Для игровых систем важно применять приоритеты в реальном времени
dry_run_default: false

# Режим работы Policy Engine - только правила
# Для игр лучше использовать правила, так как они более предсказуемы
policy_mode: rules-only

paths:
  # Путь к SQLite базе данных для сохранения снапшотов
  snapshot_db_path: "/var/lib/smoothtask/snapshots.sqlite"
  
  # Директория с YAML файлами паттернов приложений
  patterns_dir: "/etc/smoothtask/patterns"
  
  # Адрес для API сервера (опционально)
  api_listen_addr: "127.0.0.1:8080"

thresholds:
  # Очень чувствительные настройки PSI для игровых систем
  # Это позволяет быстро реагировать на любые признаки нагрузки
  psi_cpu_some_high: 0.2
  psi_io_some_high: 0.1
  
  # Увеличенный таймаут неактивности для игр
  # Игроки могут быть неактивны дольше, но игра все равно должна оставаться отзывчивой
  user_idle_timeout_sec: 300
  
  # Увеличенный период отсрочки для интерактивных процессов
  # Игры должны оставаться в интерактивном режиме дольше
  interactive_build_grace_sec: 30
  
  # Более агрессивное определение "шумных соседей"
  # Любые процессы, использующие значительные ресурсы, должны быть ограничены
  noisy_neighbour_cpu_share: 0.5
  
  # Агрессивное распределение приоритетов для игр
  # Игры должны всегда получать максимальный приоритет
  crit_interactive_percentile: 0.95
  interactive_percentile: 0.7
  normal_percentile: 0.2
  background_percentile: 0.01

# Конфигурация системы уведомлений
notifications:
  # Включить отправку уведомлений
  # Для игровых систем полезно получать уведомления о проблемах
  enabled: true
  
  # Использовать libnotify для desktop уведомлений
  # Это позволяет игрокам видеть уведомления, не прерывая игру
  backend: libnotify
  
  # Имя приложения для уведомлений
  app_name: "SmoothTask Gaming"
  
  # Минимальный уровень важности - только предупреждения
  # Это позволяет получать важные уведомления без информационного шума
  min_level: warning

# Специальные настройки для игровых систем
# Эти настройки помогают обеспечить максимальную производительность игр

# Приоритет для игровых процессов
# Игры должны всегда получать максимальный приоритет
# Это можно настроить через паттерны в patterns/games.yml

# Рекомендации для игровых систем:
# 1. Убедитесь, что игры имеют правильные теги в паттернах
# 2. Настройте cgroups для ограничения фоновых процессов
# 3. Используйте latency_nice для критических игровых процессов
# 4. Мониторьте системные метрики через API для оптимизации

# Дополнительные оптимизации для игр:
# - Отключите ненужные сервисы
# - Используйте игровой режим в ядре (если поддерживается)
# - Настройте планировщик на низкую задержку
# - Ограничьте фоновые процессы через cgroups