# SmoothTask — план задач

## Легенда статусов

- [ ] TODO       — задача ещё не делалась
- [~] IN PROGRESS — начата, но не завершена
- [x] DONE       — реализовано и покрыто тестами
- [!] BLOCKED    — есть блокер, нужна дополнительная информация

---

## 1. Ближайшие шаги (Next Up)

- [x] ST-459: Исправить тесты ONNX ранкера
  - Тип: Rust / core / tests
  - Критерии готовности:
    - ✅ Создать мок-ранкеры для тестирования
    - ✅ Исправить все падающие тесты
    - ✅ Убедиться, что все тесты проходят
  - Примечания: Тесты ONNX ранкера падали из-за попытки создания реальных ONNX сессий с несуществующими файлами
  - Приоритет: Высокий
  - Статус: Завершено

## 2. Бэклог

- [ ] ST-460: Улучшение производительности системы сбора метрик
  - Тип: Rust / core / metrics
  - Критерии готовности:
    - Проанализировать текущие узкие места в сборе метрик
    - Оптимизировать наиболее ресурсоемкие операции
    - Добавить кэширование где это возможно
    - Провести бенчмаркинг до и после оптимизации
  - Примечания: Улучшение производительности для работы на слабых системах
  - Приоритет: Средний

- [ ] ST-461: Расширение документации по интеграции ML-моделей
  - Тип: Documentation
  - Критерии готовности:
    - Документировать процесс обучения и экспорта моделей
    - Добавить примеры конфигурации для разных сценариев
    - Описать процесс интеграции ONNX моделей
    - Добавить troubleshooting guide
  - Примечания: Улучшение пользовательского опыта при работе с ML-функциональностью
  - Приоритет: Низкий

- [ ] ST-459: Улучшение WaylandIntrospector для полной поддержки композиторов
  - Тип: Rust / core / metrics
  - Критерии готовности:
    - Протестировать с различными Wayland композиторами (KWin, Mutter, Sway, Hyprland)
    - Добавить обработку дополнительных протоколов при необходимости
    - Улучшить обработку ошибок и логирование
    - Написать интеграционные тесты для различных сценариев
  - Примечания: Улучшение стабильности и совместимости
  - Приоритет: Средний

## 3. Недавно сделано (Recently Done)

- [x] ST-459: Исправить тесты ONNX ранкера
  - Тип: Rust / core / tests
  - Примечания: Исправлены все падающие тесты ONNX ранкера путем создания мок-ранкеров для тестирования.

- [x] ST-458: Исправить тесты после добавления ModelConfig в основную конфигурацию
  - Тип: Rust / core / tests
  - Примечания: Исправлены все тесты, создающие Config вручную, после добавления поля model в основную конфигурацию.

- [x] ST-453: Обучение CatBoost Ranker на реальных данных
  - Тип: Python / trainer / ml
  - Примечания: Реализована поддержка обучения CatBoostRanker с экспортом в ONNX формат. Решена проблема с категориальными фичами, которые не поддерживаются ONNX экспортом.

- [x] ST-457: Исправить тесты API сервера после добавления поля model в конфигурацию
  - Тип: Rust / core / tests
  - Примечания: Исправлены все тесты API сервера после добавления ModelConfig в основную конфигурацию.

- [x] ST-456: Интеграция ONNXRanker в Policy Engine
  - Тип: Rust / core / policy
  - Примечания: Реализована полная интеграция ONNXRanker в Policy Engine с поддержкой конфигурации и fallback.

- [x] ST-454: Интеграция ONNX Runtime для инференса в Rust
  - Тип: Rust / core / ml
  - Примечания: Реализация ONNXRanker для загрузки и выполнения CatBoost моделей в Rust.

- [x] ST-452: Добавить поддержку мониторинга температуры компонентов
  - Тип: Rust / core / metrics
  - Примечания: Реализация расширенного мониторинга температуры CPU/GPU через hwmon и thermal интерфейсы.

- [x] ST-451: Реализовать расширенный мониторинг энергопотребления
  - Тип: Rust / core / metrics
  - Примечания: Реализация мониторинга энергопотребления через RAPL и другие интерфейсы.

- [x] ST-450: Обновить документацию с описанием новых функций
  - Тип: Documentation
  - Примечания: Полное обновление документации для новых функций.

- [x] ST-449: Завершить улучшение системы конфигурации с поддержкой динамической перезагрузки
  - Тип: Rust / core / config
  - Примечания: Завершение реализации динамической перезагрузки конфигурации.

- [x] ST-448: Завершить реализацию системы оповещений и уведомлений
  - Тип: Rust / core / notifications
  - Примечания: Завершение реализации системы уведомлений для полной функциональности.

- [x] ST-447: Реализовать API эндпоинты для управления уведомлениями
  - Тип: Rust / core / api
  - Примечания: Завершение интеграции системы уведомлений с API для внешнего управления.

- [x] ST-446: Реализовать интеграцию системы уведомлений в основной демон
  - Тип: Rust / core / notifications
  - Примечания: Критическая задача для завершения реализации системы уведомлений.

- [x] ST-444: Запустить полный набор тестов для проверки функциональности
  - Тип: Rust / core / testing
  - Примечания: Критическая задача для обеспечения качества.

- [x] ST-443: Добавить фичу libnotify в Cargo.toml
  - Тип: Rust / core / build
  - Примечания: Необходимо для корректной работы системы уведомлений.

- [x] ST-442: Очистить предупреждения о неиспользуемых переменных в коде
  - Тип: Rust / core / cleanup
  - Примечания: Улучшение качества кода.

- [x] ST-441: Исправить ошибки компиляции в тестах API сервера
  - Тип: Rust / core / bugfix
  - Примечания: Критическая ошибка, препятствующая запуску тестов.

- [x] ST-440: Улучшить API эндпоинт перезагрузки конфигурации
  - Тип: Rust / core / api
  - Примечания: Улучшение функциональности API для управления конфигурацией.

- [x] ST-439: Исправить реализацию перезагрузки конфигурации в run_daemon
  - Тип: Rust / core / bugfix
  - Примечания: Критическая ошибка, препятствующая полной работе динамической перезагрузки.

- [x] ST-432: Реализовать расширенный мониторинг GPU метрик
  - Тип: Rust / core / metrics
  - Примечания: Расширение функциональности мониторинга для лучшего понимания нагрузки на графическую подсистему.

- [x] ST-431: Исправить нестабильный тест в scheduling_latency модуле
  - Тип: Rust / core / tests
  - Примечания: Исправлен нестабильный тест test_latency_probe_collects_measurements.

- [x] ST-426: Улучшить систему классификации процессов с использованием ML
  - Тип: Rust / core / classify
  - Примечания: Улучшение точности классификации процессов для более эффективного управления ресурсами.

- [x] ST-427: Добавить поддержку мониторинга дисковых операций
  - Тип: Rust / core / metrics
  - Примечания: Расширение функциональности мониторинга для лучшего понимания нагрузки на дисковую подсистему.

- [x] ST-425: Добавить поддержку мониторинга сетевой активности
  - Тип: Rust / core / metrics
  - Примечания: Расширение функциональности мониторинга для лучшего понимания сетевой нагрузки.

*(Более старые задачи перенесены в архив: docs/history/PLAN_DONE_archive.md)*

См. архив: docs/history/PLAN_DONE_archive.md

## 4. Блокеры

- [!] ST-099: Вернуть зависимость onnxruntime, когда появится стабильная версия с нужными фичами
  - Нужны: релиз onnxruntime с требуемыми возможностями.