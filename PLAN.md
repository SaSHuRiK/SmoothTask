# SmoothTask — план задач

## Легенда статусов

- [ ] TODO       — задача ещё не делалась
- [~] IN PROGRESS — начата, но не завершена
- [x] DONE       — реализовано и покрыто тестами
- [!] BLOCKED    — есть блокер, нужна дополнительная информация

---

## 1. Ближайшие шаги (Next Up)

- [x] ST-488: Завершить реализацию WaylandIntrospector
  - Тип: Rust / core / metrics / windows
  - Критерии готовности:
    - ✅ Реализовать полную поддержку Wayland-композиторов (KWin, Mutter, Sway, Hyprland)
    - ✅ Добавить обнаружение активных окон и фокуса
    - ✅ Интегрировать с существующую систему метрик
    - ✅ Добавить обработку ошибок и логирование
  - Примечания: Завершение поддержки Wayland для полного покрытия оконных систем
  - Приоритет: Высокий
  - Зависимости: Текущая частичная реализация в windows_wayland.rs
  - Статус: COMPLETED

- [ ] ST-485: Исследовать и добавить поддержку eBPF-метрик
  - Тип: Rust / core / metrics / исследование
  - Критерии готовности:
    - ✅ Исследовать возможности eBPF для сбора метрик
    - ✅ Оценить производительность и совместимость
    - ✅ Добавить базовую поддержку, если применимо
  - Примечания: Потенциальное улучшение для будущих версий
  - Приоритет: Низкий

- [ ] ST-486: Улучшить ML-классификатор типов процессов
  - Тип: Python / trainer / ml
  - Критерии готовности:
    - ✅ Исследовать текущие возможности классификации
    - ✅ Добавить поддержку ML-классификатора
    - ✅ Интегрировать с существующей системой паттернов
  - Примечания: Улучшение точности классификации процессов
  - Приоритет: Низкий

- [ ] ST-487: Добавить автообновление паттерн-базы приложений
  - Тип: Rust / core / classify
  - Критерии готовности:
    - ✅ Исследовать механизмы автообновления
    - ✅ Реализовать базовую функциональность
    - ✅ Добавить конфигурацию для управления автообновлением
  - Примечания: Улучшение поддержки новых приложений
  - Приоритет: Низкий

## 2. Бэклог

- [ ] ST-489: Добавить поддержку мониторинга производительности приложений
  - Тип: Rust / core / metrics
  - Критерии готовности:
    - ✅ Исследовать возможности мониторинга производительности на уровне приложений
    - ✅ Добавить метрики задержки, FPS, использования ресурсов
    - ✅ Интегрировать с существующей системой метрик
  - Примечания: Улучшение мониторинга отзывчивости приложений
  - Приоритет: Средний

- [ ] ST-490: Реализовать расширенную систему уведомлений
  - Тип: Rust / core / notifications
  - Критерии готовности:
    - ✅ Исследовать возможности уведомлений через D-Bus
    - ✅ Добавить поддержку уведомлений о изменениях приоритетов
    - ✅ Интегрировать с системой логирования
  - Примечания: Улучшение пользовательского опыта
  - Приоритет: Низкий

## 3. Недавно сделано (Recently Done)

- [x] ST-488: Завершить реализацию WaylandIntrospector
  - Тип: Rust / core / metrics / windows
  - Примечания: Реализована полная поддержка Wayland-композиторов (KWin, Mutter, Sway, Hyprland) с обнаружение активных окон и фокуса. Интегрировано с существующей системой метрик. Добавлена обработка ошибок и логирование. Реализована полная обработка событий wlr-foreign-toplevel-management протокола.
  - Статус: COMPLETED

- [x] ST-484: Добавить документацию по использованию CatBoost v1 функциональности
  - Тип: Документация / пользовательская
  - Примечания: Создано руководство CATBOOST_V1_GUIDE.md с полным описанием обучения моделей, ONNX интеграции, режима dry-run и гибридного режима. Добавлена информация о ML ranker в API документацию. Обновлены ссылки в README.md.
  - Статус: COMPLETED

- [x] ST-483: Провести комплексное тестирование всех компонентов
  - Тип: Тестирование / качество
  - Примечания: Успешно запущены все Rust тесты (706+ unit тестов), все Python тесты (136 тестов), и все интеграционные тесты (56 actuator + 15 API тестов). Все тесты проходят успешно, подтверждая стабильность после последних изменений CatBoost v1.
  - Статус: COMPLETED

- [x] ST-482: Обновить ROADMAP.md для отражения завершённого состояния CatBoost v1
  - Тип: Документация / планирование
  - Примечания: Обновлён статус CatBoost v1 с "В процессе" на "Завершено" в ROADMAP.md. Обновлены связанные задачи и добавлены ссылки на реализованные задачи (ST-478, ST-479, ST-480). Документация теперь отражает текущее состояние проекта.
  - Статус: COMPLETED

- [x] ST-481: Исправить ошибки компиляции в API интеграционных тестах
  - Тип: Rust / core / api
  - Примечания: Исправлены ошибки компиляции в API интеграционных тестах, вызванные рефакторингом API. Обновлены тесты для использования ApiStateBuilder вместо устаревшего ApiState::new. Исправлены дублирующиеся импорты RwLock. Добавлен метод port() в ApiServerHandle для поддержки автоматического выбора порта (port 0). Удалены неиспользуемые импорты collect_system_metrics. Все 15 API интеграционных тестов теперь проходят успешно.
  - Статус: COMPLETED

- [x] ST-480: Реализовать ONNX/JSON инференс в режиме dry-run
  - Тип: Rust / core / policy
  - Примечания: Интегрирован ONNX-ранкер в Policy Engine с поддержкой режима dry-run. Добавлена JSON-конфигурация для ранкера и обработка результатов инференса. Реализован режим dry-run для тестирования без применения приоритетов. Добавлены интеграционные тесты и обновлена документация. Policy Engine поддерживает hybrid режим с использованием ONNX-ранкера для ранжирования групп приложений.
  - Статус: COMPLETED

- [x] ST-479: Добавить интеграцию ONNX Runtime для инференса
  - Тип: Rust / core / model
  - Примечания: Добавлена зависимость onnxruntime (ort) и реализован ONNX-ранкер для инференса. Реализована загрузка ONNX моделей, выполнение инференса и обработка результатов. Добавлены comprehensive unit тесты для всех функций. Улучшена обработка ошибок и логирование для всех этапов инференса. Реализовано преобразование фич в тензоры и обработка категориальных данных.
  - Статус: COMPLETED

- [x] ST-478: Реализовать обучение CatBoost Ranker'а на teacher-политике
  - Тип: Python / trainer / ml
  - Примечания: Реализована функция train_ranker с использованием CatBoost для обучения на данных из SQLite снапшотов. Добавлена валидация входных данных, обработка ошибок и логирование. Поддержана загрузка данных с фильтрацией и подготовкой фич. Добавлены comprehensive unit и интеграционные тесты. Функция поддерживает сохранение обученной модели в ONNX формат для использования в Rust-коде.
  - Статус: COMPLETED

- [x] ST-477: Добавить поддержку мониторинга сетевых метрик
  - Тип: Rust / core / metrics
  - Примечания: Реализован сбор сетевых метрик (трафик, ошибки) и интеграция с существующей системой метрик. Добавлены unit и интеграционные тесты. Расширение функциональности мониторинга для полного покрытия системных метрик.
  - Статус: COMPLETED

См. архив: docs/history/PLAN_DONE_archive.md

## 4. Блокеры

- [!] ST-099: Вернуть зависимость onnxruntime, когда появится стабильная версия с нужными фичами
  - Нужны: релиз onnxruntime с требуемыми возможностями.