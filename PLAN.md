# SmoothTask — план задач

## Легенда статусов

- [ ] TODO       — задача ещё не делалась
- [~] IN PROGRESS — начата, но не завершена
- [x] DONE       — реализовано и покрыто тестами
- [!] BLOCKED    — есть блокер, нужна дополнительная информация

---

## 1. Ближайшие шаги (Next Up)

- [x] ST-703: Добавить поддержку мониторинга температуры CPU
  - Тип: Feature / Monitoring
  - Примечания: Реализовать сбор и мониторинг температуры CPU через eBPF
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Ожидаемые результаты: Мониторинг температуры CPU для предотвращения перегрева
  - Критерии готовности:
    - ✅ Реализовать eBPF программу для сбора температуры CPU
    - ✅ Интегрировать с существующей системой метрик
    - ✅ Добавить тесты для проверки функциональности
    - ✅ Обновить документацию
  - Результаты:
    - eBPF мониторинг температуры CPU теперь включен по умолчанию
    - Интеграция с основной системой метрик через collect_system_metrics()
    - Автоматическое использование eBPF данных при доступности с fallback на традиционные методы
    - Добавлены пороги уведомлений для температуры CPU (75°C предупреждение, 90°C критическое)
    - Обновлена документация в METRICS.md и EBPF_API_DOCUMENTATION.md
    - Добавлены тесты для проверки интеграции и порогов уведомлений

- [x] ST-704: Улучшить обработку ошибок в модуле кэширования метрик
  - Тип: Code Quality / Error Handling
  - Примечания: Добавить более детальные сообщения об ошибках и улучшить graceful degradation
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~45 минут
  - Ожидаемые результаты: Более robust обработка ошибок в кэшировании метрик
  - Критерии готовности:
    - ✅ Проанализировать текущие сообщения об ошибках
    - ✅ Улучшить обработку ошибок в cache.rs
    - ✅ Добавить контекстные сообщения об ошибках
    - ✅ Обновить тесты для проверки обработки ошибок
  - Результаты:
    - Добавлена обработка mutex poisoning с восстановлением
    - Улучшены сообщения об ошибках с контекстом ключей кэша
    - Реализовано graceful degradation при отказе кэширования
    - Добавлены новые тесты для проверки обработки ошибок
    - Улучшено логирование операций с кэшем

- [x] ST-705: Реализовать автоматическое обновление ML-моделей
  - Тип: Feature / ML
  - Примечания: Реализовать механизм автоматического обновления моделей из удаленного репозитория
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Ожидаемые результаты: Полная поддержка автоматического обновления моделей с проверкой целостности
  - Критерии готовности:
    - ✅ Реализовать ModelUpdateConfig с настройками обновления
    - ✅ Создать ModelUpdater с поддержкой HTTP-загрузки
    - ✅ Добавить проверку хэшей и целостности моделей
    - ✅ Интегрировать с ModelVersionManager для управления версиями
    - ✅ Реализовать проверку и установку обновлений
    - ✅ Добавить компрехенсивные тесты для всех сценариев
  - Результаты:
    - Полная реализация ModelUpdater с поддержкой HTTP и локальных репозиториев
    - Проверка целостности через SHA256 хэши
    - Управление версиями с откатом и текущей версией
    - Поддержка метаданных и временных меток
    - Компрехенсивные unit-тесты для всех функций



## 2. Бэклог

- [ ] ST-701: Добавить поддержку дополнительных метрик GPU
  - Тип: Feature / Monitoring
  - Примечания: Расширить мониторинг GPU метрик для поддержки дополнительных устройств
  - Приоритет: Низкий
  - Ожидаемые результаты: Более полный мониторинг GPU устройств

- [ ] ST-702: Реализовать веб-интерфейс для мониторинга
  - Тип: UI / Monitoring
  - Примечания: Создать простой веб-интерфейс для визуализации метрик и состояния системы
  - Приоритет: Низкий
  - Ожидаемые результаты: Удобный интерфейс для мониторинга системы

## 3. Недавно сделано (Recently Done)

- [x] ST-705: Реализовать автоматическое обновление ML-моделей
  - Тип: Feature / ML
  - Примечания: Реализовать механизм автоматического обновления моделей из удаленного репозитория
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Результаты: Полная поддержка автоматического обновления моделей с проверкой целостности и интеграцией с системой версионирования

- [x] ST-703: Добавить поддержку мониторинга температуры CPU
  - Тип: Feature / Monitoring
  - Примечания: Реализовать сбор и мониторинг температуры CPU через eBPF
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Результаты: eBPF мониторинг температуры CPU с интеграцией в основную систему метрик и уведомлениями

- [x] ST-704: Улучшить обработку ошибок в модуле кэширования метрик
  - Тип: Code Quality / Error Handling
  - Примечания: Добавить более детальные сообщения об ошибках и улучшить graceful degradation
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~45 минут
  - Результаты: Более robust обработка ошибок в кэшировании метрик с обработкой mutex poisoning и улучшенным логированием

- [x] ST-700: Улучшить производительность сбора метрик
  - Тип: Performance / Optimization
  - Примечания: Оптимизировать сбор системных метрик для уменьшения нагрузки
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~30 минут
  - Результаты: Полная поддержка кэширования метрик с LRU кэшем и TTL для уменьшения нагрузки на систему

- [x] ST-699: Добавить поддержку автоматического обновления моделей
  - Тип: ML / Automation
  - Примечания: Реализовать механизм автоматического обновления моделей из репозитория
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~45 минут
  - Результаты: Полная поддержка автоматического обновления моделей с проверкой целостности и интеграцией с системой версионирования

- [x] ST-698: Добавить экспорт метрик производительности в Prometheus
  - Тип: Monitoring / Integration
  - Примечания: Реализовать экспорт MLPerformanceMetrics в Prometheus для мониторинга
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~30 минут
  - Результаты: Интеграция с системой мониторинга для отслеживания ML производительности

- [x] ST-697: Улучшить обработку edge cases в данных
  - Тип: Data Quality / ML
  - Примечания: Добавить обработку редких и аномальных случаев в данных
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~45 минут
  - Результаты: Более robust обработка данных для обучения

*(Более старые выполненные задачи перенесены в архив: docs/history/PLAN_DONE_archive.md)*

См. архив: docs/history/PLAN_DONE_archive.md

## 4. Блокеры

- [!] ST-099: Вернуть зависимость onnxruntime, когда появится стабильная версия с нужными фичами
  - Нужны: релиз onnxruntime с требуемыми возможностями.