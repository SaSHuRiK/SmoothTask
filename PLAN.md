# SmoothTask — план задач

## Легенда статусов

- [ ] TODO       — задача ещё не делалась
- [~] IN PROGRESS — начата, но не завершена
- [x] DONE       — реализовано и покрыто тестами
- [!] BLOCKED    — есть блокер, нужна дополнительная информация

---

## 1. Ближайшие шаги (Next Up)

- [x] ST-671: Исправить ошибки компиляции в модуле app_performance
  - Тип: Rust / core / metrics / eBPF
  - Примечания: Реализация детализированного мониторинга использования памяти процессами с использованием eBPF
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~90 минут
  - Критерии готовности:
    - ✅ eBPF программа для мониторинга использования памяти процессов (process_memory.c)
    - ✅ Интеграция с существующими метриками процессов
    - ✅ Новый API endpoint /api/processes/memory с обработчиком process_memory_handler
    - ✅ Комплексные тесты для нового функционала
    - ✅ Конфигурация enable_process_memory_monitoring в EbpfConfig
    - ✅ Структура ProcessMemoryStat для хранения статистики
    - ✅ Функция collect_process_memory_stats для сбора данных
    - ✅ Кэширование и обработка ошибок
  - Изменённые файлы:
    - smoothtask-core/src/ebpf_programs/process_memory.c: Новая eBPF программа для мониторинга использования памяти процессов
    - smoothtask-core/src/metrics/ebpf.rs: Добавлена поддержка мониторинга использования памяти процессов
    - smoothtask-core/src/api/server.rs: Добавлен обработчик process_memory_handler и маршрут /api/processes/memory
    - smoothtask-core/examples/ebpf_example.rs: Добавлена конфигурация enable_process_memory_monitoring
  - Результаты: Полная реализация мониторинга использования памяти процессов через eBPF с поддержкой детализированной статистики по каждому процессу, API endpoint для мониторинга и комплексными тестами

- [x] ST-674: Исправить ошибки компиляции и очистить warnings
  - Тип: Rust / core / code quality
  - Примечания: Исправление ошибок компиляции и очистка предупреждений для улучшения качества кода
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Критерии готовности:
    - ✅ Исправление ошибок сериализации Instant в CachePerformanceStats
    - ✅ Исправление методов работы с LRU кэшем (retain -> manual iteration)
    - ✅ Исправление ошибок заимствования в API обработчиках
    - ✅ Очистка unused imports и переменных
    - ✅ Успешная компиляция без ошибок
  - Изменённые файлы:
    - smoothtask-core/src/metrics/process.rs: Исправление сериализации и методов кэша
    - smoothtask-core/src/api/server.rs: Исправление ошибок заимствования и очистка warnings
  - Результаты: Успешная компиляция без ошибок, улучшенное качество кода


## 2. Бэклог

- [ ] ST-667: Обновить документацию по ML и обучению моделей
  - Тип: Documentation / ML
  - Примечания: Создание комплексного руководства по сбору данных и обучению моделей
  - Приоритет: Средний
  - Статус: TODO
  - Время выполнения: ~60 минут
  - Критерии готовности:
    - ✅ Создание руководства по сбору данных
    - ✅ Создание руководства по обучению моделей
    - ✅ Добавление примеров использования
    - ✅ Обновление существующей документации
    - ✅ Добавление диаграмм и визуализаций
  - Изменённые файлы:
    - docs/ML_CLASSIFICATION.md: Обновление документации по ML
    - docs/CATBOOST_V1_GUIDE.md: Добавление руководства по CatBoost
    - docs/ONNX_INTEGRATION.md: Обновление документации по ONNX
    - smoothtask-trainer/README.md: Обновление примеров
  - Результаты: Полная и актуальная документация по ML workflow с примерами и руководствами

## 3. Недавно сделано (Recently Done)

- [x] ST-670: Добавить поддержку мониторинга производительности приложений
  - Тип: Rust / core / metrics / application
  - Примечания: Реализация мониторинга производительности приложений на уровне AppGroup
  - Приоритет: Низкий
  - Статус: COMPLETED
  - Время выполнения: ~45 минут
  - Критерии готовности:
    - ✅ Новый модуль для сбора метрик производительности приложений
    - ✅ Интеграция с существующей системой AppGroup
    - ✅ Новый API endpoint /api/app/performance с обработчиком app_performance_handler
    - ✅ Тесты для нового функционала
    - ✅ Поддержка сбора метрик для отдельных групп приложений
    - ✅ Поддержка сбора метрик для всех процессов в системе
    - ✅ Поддержка исторического сбора метрик и анализа трендов
    - ✅ Поддержка экспорта метрик в JSON и Prometheus форматы
    - ✅ Конфигурируемые пороговые значения для определения статуса производительности
    - ✅ Комплексные тесты для всех функций модуля
  - Изменённые файлы:
    - smoothtask-core/src/metrics/app_performance.rs: Новый модуль для метрик производительности приложений
    - smoothtask-core/src/api/server.rs: Добавлен обработчик app_performance_handler и маршрут /api/app/performance
  - Результаты: Полная реализация мониторинга производительности приложений с поддержкой API endpoint и тестами

- [x] ST-669: Улучшить производительность сбора метрик процессов
  - Тип: Rust / core / metrics / optimization
  - Примечания: Оптимизация производительности сбора метрик процессов для уменьшения нагрузки на систему
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Критерии готовности:
    - ✅ Оптимизация алгоритмов сбора метрик процессов
    - ✅ Добавление кэширования для часто запрашиваемых данных
    - ✅ Улучшение параллелизма при сборе метрик
    - ✅ Добавление бенчмарков для измерения производительности
    - ✅ Тесты для проверки корректности оптимизаций
    - ✅ Добавление LRU кэша для более эффективного управления памятью
    - ✅ Добавление статистики производительности кэша для мониторинга эффективности
    - ✅ Оптимизация конфигурации кэша с новыми параметрами (use_lru_cache, batch_size, optimize_io)
    - ✅ Улучшение обработки ошибок и логирования для кэша
  - Изменённые файлы:
    - smoothtask-core/src/metrics/process.rs: Оптимизация алгоритмов сбора метрик
    - smoothtask-core/benches/process_metrics_bench.rs: Добавление бенчмарков
    - smoothtask-core/Cargo.toml: Добавление зависимости lru для LRU кэша
  - Результаты: Улучшенная производительность сбора метрик процессов с сохранением корректности данных

- [x] ST-671: Исправить ошибки компиляции в модуле app_performance
  - Тип: Rust / core / metrics / application
  - Примечания: Исправление ошибок компиляции и предупреждений в модуле мониторинга производительности приложений
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Критерии готовности:
    - ✅ Исправление неверного импорта AppGroup на AppGroupRecord
    - ✅ Исправление проблем с сериализацией Instant на SystemTime
    - ✅ Исправление проблем с borrow checker для app_config
    - ✅ Исправление всех предупреждений компилятора
    - ✅ Успешная компиляция модуля без ошибок и предупреждений
  - Изменённые файлы:
    - smoothtask-core/src/metrics/app_performance.rs: Исправление импортов, типов и проблем с borrow checker
    - smoothtask-core/src/api/server.rs: Добавление импортов для AppPerformanceConfig и collect_all_app_performance
  - Результаты: Модуль app_performance успешно компилируется без ошибок и предупреждений

- [x] ST-674: Исправить ошибки компиляции и очистить warnings
  - Тип: Rust / core / code quality
  - Примечания: Исправление ошибок компиляции и очистка предупреждений для улучшения качества кода
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Критерии готовности:
    - ✅ Исправление ошибок сериализации Instant в CachePerformanceStats
    - ✅ Исправление методов работы с LRU кэшем (retain -> manual iteration)
    - ✅ Исправление ошибок заимствования в API обработчиках
    - ✅ Очистка unused imports и переменных
    - ✅ Успешная компиляция без ошибок
  - Изменённые файлы:
    - smoothtask-core/src/metrics/process.rs: Исправление сериализации и методов кэша
    - smoothtask-core/src/api/server.rs: Исправление ошибок заимствования и очистка warnings
  - Результаты: Успешная компиляция без ошибок, улучшенное качество кода

- [x] ST-668: Добавить поддержку мониторинга использования памяти на уровне процессов

- [x] ST-667: Обновить документацию по ML и обучению моделей
  - Тип: Documentation / ML
  - Примечания: Создание комплексного руководства по сбору данных и обучению моделей
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Критерии готовности:
    - ✅ Создание руководства по сбору данных
    - ✅ Создание руководства по обучению моделей
    - ✅ Добавление примеров использования
    - ✅ Обновление существующей документации
    - ✅ Добавление диаграмм и визуализаций
  - Изменённые файлы:
    - docs/ML_CLASSIFICATION.md: Обновление документации по ML
    - docs/CATBOOST_V1_GUIDE.md: Добавление руководства по CatBoost
    - docs/ONNX_INTEGRATION.md: Обновление документации по ONNX
    - smoothtask-trainer/README.md: Обновление примеров
  - Результаты: Полная и актуальная документация по ML workflow с примерами и руководствами

- [x] ST-666: Создать интеграционные тесты для полного pipeline
  - Тип: Python / Trainer / Tests
  - Примечания: Создание комплексных интеграционных тестов для всего pipeline от сбора данных до обучения
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~90 минут
  - Критерии готовности:
    - ✅ Создание тестов для полного workflow
    - ✅ Тестирование различных сценариев использования
    - ✅ Тестирование обработки ошибок и edge cases
    - ✅ Интеграция с существующими тестами
    - ✅ Обновление документации тестирования
  - Изменённые файлы:
    - smoothtask-trainer/tests/test_integration.py: Новые интеграционные тесты
    - smoothtask-trainer/tests/test_workflow.py: Расширение тестов workflow
    - docs/ML_CLASSIFICATION.md: Обновление документации по тестированию
  - Результаты: Комплексные интеграционные тесты для всего pipeline с хорошим покрытием

- [x] ST-665: Улучшить функциональность экспорта моделей
  - Тип: Python / Trainer / Export
  - Примечания: Расширение функциональности экспорта моделей с поддержкой дополнительных форматов и метаданных
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Критерии готовности:
    - ✅ Добавление поддержки экспорта метаданных модели
    - ✅ Улучшение обработки ошибок при экспорте
    - ✅ Добавление валидации экспортированных моделей
    - ✅ Создание тестов для нового функционала
    - ✅ Обновление документации с примерами
  - Изменённые файлы:
    - smoothtask-trainer/smoothtask_trainer/export_model.py: Улучшение функциональности экспорта
    - smoothtask-trainer/tests/test_export_model.py: Новые тесты для экспорта
    - smoothtask-trainer/README.md: Обновление документации
  - Результаты: Улучшенная функциональность экспорта моделей с поддержкой метаданных и лучшей обработкой ошибок

- [x] ST-664: Исправить предупреждения clippy в различных модулях
  - Тип: Rust / core / code quality
  - Примечания: Исправление предупреждений clippy для улучшения качества кода
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~120 минут
  - Критерии готовности:
    - ✅ Исправление field_reassign_with_default в ebpf.rs (15 случаев)
    - ✅ Исправление vec_init_then_push в ebpf.rs (3 случая)
    - ✅ Исправление needless_update в gpu.rs (4 случая)
    - ✅ Исправление unnecessary_cast в process.rs (2 случая)
    - ✅ Исправление redundant_closure в system.rs (6 случаев)
    - ✅ Исправление needless_update в system.rs (2 случая)
    - ✅ Проверка успешной компиляции без предупреждений clippy
    - ✅ Проверка прохождения всех тестов
  - Изменённые файлы:
    - smoothtask-core/src/metrics/ebpf.rs: Исправление field_reassign_with_default и vec_init_then_push
    - smoothtask-core/src/metrics/gpu.rs: Исправление needless_update
    - smoothtask-core/src/metrics/process.rs: Исправление unnecessary_cast
    - smoothtask-core/src/metrics/system.rs: Исправление redundant_closure и needless_update
  - Результаты: Успешная компиляция без предупреждений clippy, улучшенное качество кода, все тесты проходят

- [x] ST-664: Создать комплексный workflow для сбора данных и обучения модели
  - Тип: Python / Trainer / Workflow
  - Примечания: Разработка полного workflow для сбора данных, подготовки датасета и обучения модели
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~120 минут
  - Критерии готовности:
    - ✅ Создание скрипта для сбора данных из существующих снапшотов
    - ✅ Интеграция с существующим функционалом SnapshotLogger
    - ✅ Создание скрипта для подготовки данных и обучения модели
    - ✅ Добавление валидации и обработки ошибок
    - ✅ Создание комплексных тестов для workflow
    - ✅ Обновление документации с примерами использования
  - Изменённые файлы:
    - smoothtask-trainer/smoothtask_trainer/__init__.py: Добавление новых функций workflow
    - smoothtask-trainer/smoothtask_trainer/collect_data.py: Новый модуль для сбора данных
    - smoothtask-trainer/smoothtask_trainer/train_pipeline.py: Новый модуль для обучения
    - smoothtask-trainer/tests/test_collect_data.py: Новые тесты для модуля сбора данных
    - smoothtask-trainer/tests/test_train_pipeline.py: Новые тесты для модуля pipeline
    - smoothtask-trainer/README.md: Обновление документации
  - Результаты: Полный workflow для сбора данных и обучения модели с тестами и документацией

- [x] ST-657: Улучшить обработку ошибок в модуле actuator
  - Тип: Rust / core
  - Примечания: Добавление более детальных сообщений об ошибках и graceful degradation
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~45 минут
  - Критерии готовности:
    - ✅ Улучшенные сообщения об ошибках с практическими рекомендациями
    - ✅ Graceful degradation при невозможности применить приоритеты
    - ✅ Подсчет и логирование ошибок для диагностики
    - ✅ Частичное восстановление при ошибках в отдельных операциях
    - ✅ Добавление детальной статистики ошибок по типам (nice, ionice, latency_nice, cgroup)
    - ✅ Разделение критических ошибок и предупреждений
    - ✅ Добавление практических рекомендаций в сообщения об ошибках
  - Изменённые файлы:
    - smoothtask-core/src/actuator.rs: Улучшенная обработка ошибок с детальной статистикой и практическими рекомендациями
  - Результаты: Значительно улучшенная диагностика и обработка ошибок в модуле actuator с детальной статистикой по типам ошибок

- [x] ST-656: Добавить комплексные тесты для модуля policy engine
  - Тип: Rust / core / tests
  - Примечания: Тестирование различных сценариев применения политик
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~90 минут
  - Критерии готовности:
    - ✅ Тесты для различных типов процессов (GUI, CLI, daemon, batch)
    - ✅ Тесты для разных классов QoS
    - ✅ Тесты для сценариев с ML-ранкером и без него
    - ✅ Тесты для гистерезиса и предотвращения частых изменений
    - ✅ Тесты для активных терминалов с недавним вводом
    - ✅ Тесты для нескольких групп с разными приоритетами
    - ✅ Тесты для фокусных игр с аудио
    - ✅ Тесты для комплексных сценариев с несколькими группами
  - Изменённые файлы:
    - smoothtask-core/src/policy/engine.rs: Добавлены 3 новых комплексных теста
  - Результаты: Значительно улучшенное покрытие тестами для policy engine с 14 до 17 тестов

- [x] ST-655: Улучшить документацию архитектуры с диаграммами компонентов
  - Тип: Documentation / Architecture
  - Примечания: Добавление диаграмм и более детального описания потоков данных
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Критерии готовности:
    - ✅ Добавление диаграмм компонентов в ARCHITECTURE.md
    - ✅ Детальное описание потоков данных между модулями
    - ✅ Примеры последовательностей вызовов
    - ✅ Обновление документации с учетом последних изменений
    - ✅ Добавление детальных описаний всех компонентов
    - ✅ Добавление информации о производительности и масштабируемости
    - ✅ Добавление информации о безопасности и надежности
  - Изменённые файлы:
    - docs/ARCHITECTURE.md: Значительно расширена документация с диаграммами и детальными описаниями
  - Результаты: Полная и актуальная документация архитектуры с визуальными диаграммами и техническими деталями

- [x] ST-654: Добавить документацию для API endpoint /api/notifications/custom
  - Тип: Documentation / API
  - Примечания: Добавление документации для missing API endpoint
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~30 минут
  - Критерии готовности:
    - ✅ Добавление документации для /api/notifications/custom endpoint
    - ✅ Проверка соответствия документации реальной реализации
    - ✅ Добавление примеров использования
    - ✅ Проверка полноты документации для всех API endpoint
  - Изменённые файлы:
    - docs/API.md: Добавлена документация для /api/notifications/custom endpoint
  - Результаты: Полная и актуальная документация API

- [x] ST-653: Исправить предупреждения clippy: bool_assert_comparison в ebpf.rs
  - Тип: Rust / core / metrics / eBPF
  - Примечания: Упрощение булевых сравнений в тестах
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~5 минут
  - Критерии готовности:
    - ✅ Упрощение 1 случая bool_assert_comparison (assert_eq! с булевым литералом)
    - ✅ Проверка успешной компиляции без предупреждений clippy
  - Изменённые файлы:
    - smoothtask-core/src/metrics/ebpf.rs: Упрощено булевое сравнение в тесте
  - Результаты: Успешная компиляция без предупреждений clippy

- [x] ST-652: Исправить предупреждения clippy: bool_comparison и bool_assert_comparison в cgroups.rs
  - Тип: Rust / core / utils
  - Примечания: Упрощение булевых сравнений в тестах
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~15 минут
  - Критерии готовности:
    - ✅ Упрощение 2 случаев bool_comparison (result == true || result == false)
    - ✅ Упрощение 4 случаев bool_assert_comparison (assert_eq! с булевыми литералами)
    - ✅ Проверка успешной компиляции без предупреждений clippy
  - Изменённые файлы:
    - smoothtask-core/src/utils/cgroups.rs: Упрощены булевые сравнения в тестах
  - Результаты: Успешная компиляция без предупреждений clippy

- [x] ST-651: Исправить предупреждения clippy: assertions_on_constants в system.rs
  - Тип: Rust / core / metrics
  - Примечания: Удаление избыточных assert!(true) в тестах
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~10 минут
  - Критерии готовности:
    - ✅ Удаление 2 случаев assert!(true) в system.rs
    - ✅ Проверка успешной компиляции без предупреждений clippy
  - Изменённые файлы:
    - smoothtask-core/src/metrics/system.rs: Удалены избыточные assert!(true)
  - Результаты: Успешная компиляция без предупреждений clippy

- [x] ST-650: Исправить предупреждения clippy: useless_format в gpu.rs
  - Тип: Rust / core / metrics
  - Примечания: Заменить format! на .to_string() для статических строк
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~10 минут
  - Критерии готовности:
    - ✅ Заменить 2 случая format! на .to_string() в gpu.rs
    - ✅ Проверка успешной компиляции без предупреждений clippy
  - Изменённые файлы:
    - smoothtask-core/src/metrics/gpu.rs: Заменены format! на .to_string() для статических строк
  - Результаты: Успешная компиляция без предупреждений clippy

- [x] ST-649: Исправить предупреждения clippy: derivable_impls для ProcessDiskStat
  - Тип: Rust / core / metrics
  - Примечания: Заменить ручную реализацию Default на derive макрос
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~5 минут
  - Критерии готовности:
    - ✅ Заменить impl Default для ProcessDiskStat на #[derive(Default)]
    - ✅ Проверка успешной компиляции без предупреждений clippy
  - Изменённые файлы:
    - smoothtask-core/src/metrics/ebpf.rs: Добавлен #[derive(Default)] и удалена ручная реализация
  - Результаты: Успешная компиляция без предупреждений clippy

- [x] ST-648: Исправить предупреждения clippy: derivable_impls для ProcessNetworkStat
  - Тип: Rust / core / metrics
  - Примечания: Заменить ручную реализацию Default на derive макрос
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~5 минут
  - Критерии готовности:
    - ✅ Заменить impl Default для ProcessNetworkStat на #[derive(Default)]
    - ✅ Проверка успешной компиляции без предупреждений clippy
  - Изменённые файлы:
    - smoothtask-core/src/metrics/ebpf.rs: Добавлен #[derive(Default)] и удалена ручная реализация
  - Результаты: Успешная компиляция без предупреждений clippy

- [x] ST-647: Исправить предупреждения clippy: derivable_impls для ApiStateBuilder
  - Тип: Rust / core / api
  - Примечания: Заменить ручную реализацию Default на derive макрос
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~5 минут
  - Критерии готовности:
    - ✅ Заменить impl Default для ApiStateBuilder на #[derive(Default)]
    - ✅ Проверка успешной компиляции без предупреждений clippy
  - Изменённые файлы:
    - smoothtask-core/src/api/server.rs: Добавлен #[derive(Default)] и удалена ручная реализация
  - Результаты: Успешная компиляция без предупреждений clippy

- [x] ST-646: Исправить предупреждения компилятора в ebpf_integration_test.rs (unused mut и useless comparisons)
  - Тип: Rust / core / tests
  - Примечания: Исправление предупреждений компилятора для улучшения качества кода
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~25 минут
  - Критерии готовности:
    - ✅ Удаление unused mut для переменной config
    - ✅ Удаление useless сравнений для unsigned типов (>= 0)
    - ✅ Проверка успешной компиляции без предупреждений
  - Изменённые файлы:
    - smoothtask-core/tests/ebpf_integration_test.rs: Исправление unused mut и удаление useless сравнений
  - Результаты: Успешная компиляция без предупреждений, улучшенное качество кода

- [x] ST-645: Исправить предупреждения компилятора в ebpf_real_integration_test.rs (unused imports и useless comparisons)
  - Тип: Rust / core / tests
  - Примечания: Исправление предупреждений компилятора для улучшения качества кода
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~20 минут
  - Критерии готовности:
    - ✅ Удаление unused импорта Duration
    - ✅ Удаление useless сравнений для unsigned типов (>= 0)
    - ✅ Проверка успешной компиляции без предупреждений
  - Изменённые файлы:
    - smoothtask-core/tests/ebpf_real_integration_test.rs: Исправление unused импортов и удаление useless сравнений
  - Результаты: Успешная компиляция без предупреждений, улучшенное качество кода

- [x] ST-644: Исправить предупреждения компилятора в ml_classifier_integration_test.rs (unused imports и dead code)
  - Тип: Rust / core / tests
  - Примечания: Исправление предупреждений компилятора для улучшения качества кода
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~15 минут
  - Критерии готовности:
    - ✅ Удаление unused импортов PatternWatcher, PatternWatcherConfig, MLClassifierConfig, Arc, TempDir, tempdir, Mutex
    - ✅ Удаление неиспользуемых функций create_test_process и create_test_pattern_file
    - ✅ Проверка успешной компиляции без предупреждений
  - Изменённые файлы:
    - smoothtask-core/tests/ml_classifier_integration_test.rs: Исправление unused импортов и удаление dead code
  - Результаты: Успешная компиляция без предупреждений, улучшенное качество кода

- [x] ST-643: Исправить предупреждения компилятора в ebpf_advanced_example.rs (unused imports и dead code)
  - Тип: Rust / core / examples
  - Примечания: Исправление предупреждений компилятора для улучшения качества кода
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~10 минут
  - Критерии готовности:
    - ✅ Удаление unused импортов EbpfFilterConfig и EbpfNotificationThresholds
    - ✅ Удаление неиспользуемой функции demonstrate_integration
    - ✅ Проверка успешной компиляции без предупреждений
  - Изменённые файлы:
    - smoothtask-core/examples/ebpf_advanced_example.rs: Исправление unused импортов и удаление dead code
  - Результаты: Успешная компиляция без предупреждений, улучшенное качество кода

- [x] ST-642: Исправить предупреждения компилятора в ebpf.rs (unused variables)
  - Тип: Rust / core / metrics / eBPF
  - Примечания: Исправление предупреждений компилятора для улучшения качества кода
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~15 минут
  - Критерии готовности:
    - ✅ Исправление unused переменных с добавлением префикса _
    - ✅ Проверка успешной компиляции без предупреждений
  - Изменённые файлы:
    - smoothtask-core/src/metrics/ebpf.rs: Исправление unused переменных
  - Результаты: Успешная компиляция без предупреждений, улучшенное качество кода

- [x] ST-633: Добавить поддержку мониторинга температуры процессора через eBPF
  - Тип: Rust / core / metrics / eBPF
  - Примечания: Реализация мониторинга температуры процессора с использованием eBPF
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Критерии готовности:
    - ✅ eBPF программа для мониторинга температуры процессора (cpu_temperature.c)
    - ✅ Интеграция с системными метриками в ebpf.rs
    - ✅ Новый API endpoint /api/cpu/temperature с обработчиком cpu_temperature_handler
    - ✅ Комплексные тесты для нового функционала
    - ✅ Конфигурация enable_cpu_temperature_monitoring в EbpfConfig
    - ✅ Структура CpuTemperatureStat для хранения детализированной статистики
    - ✅ Кэширование и обработка ошибок
  - Изменённые файлы:
    - smoothtask-core/src/ebpf_programs/cpu_temperature.c: eBPF программа для мониторинга температуры CPU
    - smoothtask-core/src/metrics/ebpf.rs: Интеграция мониторинга температуры CPU с eBPF
    - smoothtask-core/src/api/server.rs: Добавлен обработчик cpu_temperature_handler и маршрут /api/cpu/temperature
    - smoothtask-core/tests/ebpf_integration_test.rs: Комплексные тесты для функционала мониторинга температуры CPU
    - smoothtask-core/tests/api_integration_test.rs: Тесты для API endpoint температуры CPU
  - Результаты: Полная реализация мониторинга температуры процессора через eBPF с поддержкой детализированной статистики по каждому CPU ядру, API endpoint для мониторинга и комплексными тестами

- [x] ST-639: Обновить документацию API с последними изменениями
  - Тип: Documentation / API
  - Примечания: Добавление документации для missing API endpoint
  - Приоритет: Низкий
  - Статус: COMPLETED
  - Время выполнения: ~45 минут
  - Критерии готовности:
    - ✅ Добавление документации для 5 новых API endpoint
    - ✅ Обновление примеров использования
    - ✅ Проверка соответствия документации реальной реализации
  - Изменённые файлы:
    - docs/API.md: Добавлена документация для /api/performance, /api/processes/disk, /api/processes/energy, /api/processes/memory, /api/processes/network
  - Результаты: Полная и актуальная документация API

- [x] ST-638: Улучшить качество кода - исправить предупреждения компилятора
  - Тип: Rust / core / code quality
  - Примечания: Исправление предупреждений компилятора
  - Приоритет: Низкий
  - Статус: COMPLETED
  - Время выполнения: ~20 минут
  - Критерии готовности:
    - ✅ Исправление всех предупреждений unused imports
    - ✅ Исправление всех предупреждений unused variables
    - ✅ Исправление всех предупреждений unused mut
    - ✅ Проверка успешной компиляции без предупреждений
  - Изменённые файлы:
    - smoothtask-core/src/api/server.rs: Удален unused import SystemMetrics
    - smoothtask-core/src/metrics/audio.rs: Исправлены unused mut и unused variables
  - Результаты: Успешная компиляция без предупреждений, улучшенное качество кода

- [x] ST-637: Исправить ошибки компиляции после добавления мониторинга диска процессов
  - Тип: Rust / core / metrics / eBPF
  - Примечания: Исправление ошибок компиляции и тестов после добавления нового функционала
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~90 минут
  - Критерии готовности:
    - ✅ Добавление missing поля process_disk_details в EbpfMetrics инициализацию
    - ✅ Добавление missing поля enable_process_disk_monitoring в EbpfConfig инициализацию
    - ✅ Исправление всех вызовов optimize_detailed_stats с добавлением process_disk_details параметра
    - ✅ Исправление всех тестов с добавлением missing полей в EbpfMetrics инициализацию
    - ✅ Исправление импортов в тестах
    - ✅ Исправление ошибок типов в API обработчиках
  - Изменённые файлы:
    - smoothtask-core/src/metrics/ebpf.rs: Исправления компиляции и тестов
    - smoothtask-core/src/api/server.rs: Исправления компиляции и тестов
    - smoothtask-core/tests/ebpf_mock_test.rs: Добавление missing полей
    - smoothtask-core/src/metrics/system.rs: Добавление missing полей
  - Результаты: Успешная компиляция и прохождение тестов после добавления нового функционала мониторинга диска процессов

- [x] ST-631: Добавить поддержку мониторинга использования диска на уровне процессов
  - Тип: Rust / core / metrics / eBPF
  - Примечания: Реализация детализированного мониторинга дискового ввода-вывода процессами с использованием eBPF
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~90 минут
  - Критерии готовности:
    - ✅ eBPF программа для мониторинга дискового ввода-вывода процессов (process_disk.c)
    - ✅ Интеграция с существующими метриками процессов
    - ✅ Новый API endpoint /api/processes/disk с обработчиком process_disk_handler
    - ✅ Комплексные тесты для нового функционала
    - ✅ Конфигурация enable_process_disk_monitoring в EbpfConfig
    - ✅ Структура ProcessDiskStat для хранения статистики
    - ✅ Функция collect_process_disk_stats для сбора данных
    - ✅ Кэширование и обработка ошибок
  - Изменённые файлы:
    - smoothtask-core/src/ebpf_programs/process_disk.c: Новая eBPF программа для мониторинга дисковой активности процессов
    - smoothtask-core/src/metrics/ebpf.rs: Добавлена поддержка мониторинга дисковой активности процессов
    - smoothtask-core/src/api/server.rs: Добавлен обработчик process_disk_handler и маршрут /api/processes/disk
    - smoothtask-core/examples/ebpf_example.rs: Добавлена конфигурация enable_process_disk_monitoring
  - Результаты: Полная реализация мониторинга дисковой активности процессов через eBPF с поддержкой детализированной статистики по каждому процессу, API endpoint для мониторинга и комплексными тестами

- [x] ST-630: Добавить документацию API для мониторинга использования GPU процессами
  - Тип: Documentation / API
  - Примечания: Документирование нового API endpoint /api/processes/gpu с примерами использования
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~30 минут
  - Критерии готовности:
    - ✅ Документация API с описанием endpoint, параметров и формата ответа
    - ✅ Примеры использования в формате curl
    - ✅ Интеграция документации в основной API.md файл
    - ✅ Примеры ошибок и их обработки
    - ✅ Обновление документации в соответствии с реальной реализацией
  - Изменённые файлы:
    - docs/API.md: Обновлена документация для /api/processes/gpu endpoint
  - Результаты: Полная документация API для мониторинга использования GPU процессами с примерами использования и обработки ошибок

- [x] ST-629: Улучшить обработку ошибок в модуле метрик ввода
  - Тип: Rust / core / metrics
  - Примечания: Добавление более детальных сообщений об ошибках и улучшение graceful degradation для метрик ввода
  - Приоритет: Низкий
  - Статус: COMPLETED
  - Время выполнения: ~30 минут
  - Критерии готовности:
    - ✅ Улучшенные сообщения об ошибках с практическими рекомендациями
    - ✅ Graceful degradation при недоступности устройств ввода
    - ✅ Подсчет и логирование ошибок для диагностики
    - ✅ Частичное восстановление при ошибках в отдельных устройствах
  - Изменённые файлы:
    - smoothtask-core/src/metrics/input.rs: Улучшенная обработка ошибок с детальными сообщениями и счетчиком ошибок
  - Результаты: Полная реализация улучшенной обработки ошибок с детальными сообщениями, улучшенной диагностикой и graceful degradation для метрик ввода

- [x] ST-628: Добавить поддержку мониторинга использования сети на уровне процессов
  - Тип: Rust / core / metrics / eBPF
  - Примечания: Реализация детализированного мониторинга сетевого трафика процессами с использованием eBPF
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~90 минут
  - Критерии готовности:
    - ✅ eBPF программа для мониторинга сетевого трафика процессов (process_network.c)
    - ✅ Интеграция с существующими метриками процессов
    - ✅ Новый API endpoint /api/processes/network с обработчиком process_network_handler
    - ✅ Комплексные тесты для нового функционала
    - ✅ Конфигурация enable_process_network_monitoring в EbpfConfig
    - ✅ Структура ProcessNetworkStat для хранения статистики
    - ✅ Функция collect_process_network_stats для сбора данных
    - ✅ Кэширование и обработка ошибок
  - Изменённые файлы:
    - smoothtask-core/src/ebpf_programs/process_network.c: Новая eBPF программа для мониторинга сетевого трафика процессов
    - smoothtask-core/src/metrics/ebpf.rs: Добавлена поддержка мониторинга сетевого трафика процессов
    - smoothtask-core/src/api/server.rs: Добавлен обработчик process_network_handler и маршрут /api/processes/network
    - smoothtask-core/examples/ebpf_example.rs: Добавлена конфигурация enable_process_network_monitoring
  - Результаты: Полная реализация мониторинга сетевого трафика процессов через eBPF с поддержкой детализированной статистики по каждому процессу, API endpoint для мониторинга и комплексными тестами

- [x] ST-626: Улучшить обработку ошибок в модуле метрик аудио
  - Тип: Rust / core / metrics
  - Примечания: Добавление более детальных сообщений об ошибках и улучшение graceful degradation для аудио метрик
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~45 минут
  - Критерии готовности:
    - ✅ Улучшенные сообщения об ошибках с практическими рекомендациями
    - ✅ Graceful degradation при недоступности аудио компонентов
    - ✅ Подсчет и логирование ошибок для диагностики
    - ✅ Частичное восстановление при ошибках в отдельных устройствах
  - Результаты: Полная реализация улучшенной обработки ошибок с детальными сообщениями и улучшенной диагностикой для аудио метрик

- [x] ST-619: Добавить поддержку мониторинга энергопотребления процессов
  - Тип: Rust / core / metrics / eBPF
  - Примечания: Реализация мониторинга энергопотребления на уровне процессов с использованием eBPF
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~90 минут
  - Критерии готовности:
    - ✅ eBPF программа для мониторинга энергопотребления процессов (process_energy.c)
    - ✅ Интеграция с метриками в ebpf.rs (ProcessEnergyStat, конфигурация, сбор данных)
    - ✅ Новый API endpoint /api/processes/energy с обработчиком process_energy_handler
    - ✅ Комплексные тесты для нового функционала (тесты eBPF и API)
    - ✅ Документация API с примерами использования
  - Изменённые файлы:
    - smoothtask-core/src/ebpf_programs/process_energy.c: Новая eBPF программа для мониторинга энергопотребления процессов
    - smoothtask-core/src/metrics/ebpf.rs: Добавлена поддержка мониторинга энергопотребления процессов
    - smoothtask-core/src/api/server.rs: Добавлен обработчик process_energy_handler и маршрут /api/processes/energy
    - smoothtask-core/src/metrics/ebpf.rs: Добавлены комплексные тесты для функционала
    - smoothtask-core/src/api/server.rs: Добавлены тесты для API endpoint
  - Результаты: Полная реализация мониторинга энергопотребления процессов через eBPF с поддержкой детализированной статистики по каждому процессу, API endpoint для мониторинга и комплексными тестами

*(Более старые выполненные задачи перенесены в архив: docs/history/PLAN_DONE_archive.md)*

См. архив: docs/history/PLAN_DONE_archive.md

## 4. Блокеры

- [!] ST-099: Вернуть зависимость onnxruntime, когда появится стабильная версия с нужными фичами
  - Нужны: релиз onnxruntime с требуемыми возможностями.
