# SmoothTask — план задач

## Легенда статусов

- [ ] TODO       — задача ещё не делалась
- [~] IN PROGRESS — начата, но не завершена
- [x] DONE       — реализовано и покрыто тестами
- [!] BLOCKED    — есть блокер, нужна дополнительная информация

---

## 1. Ближайшие шаги (Next Up)

- [ ] ST-801: Реализовать расширенный мониторинг температуры CPU с поддержкой нескольких источников
  - Тип: Rust / core / metrics / system
  - Примечания: Добавление мониторинга температуры CPU через различные источники (sysfs, coretemp, k10temp)
  - Приоритет: Средний
  - Статус: TODO
  - Время выполнения: ~60 минут
  - Оценка времени: ~60 минут
  - Критерии готовности:
    - [ ] Исследовать доступные источники данных для температуры CPU
    - [ ] Реализовать сбор метрик температуры с поддержкой нескольких сенсоров
    - [ ] Интегрировать с существующей системой метрик
    - [ ] Добавить тесты для нового функционала
  - Ожидаемые результаты: Расширенный мониторинг температуры CPU для лучшего управления термальной нагрузкой

- [ ] ST-802: Улучшить систему кэширования метрик процессов для уменьшения накладных расходов
  - Тип: Rust / core / metrics / optimization
  - Примечания: Оптимизация кэширования метрик процессов для уменьшения частоты системных вызовов
  - Приоритет: Высокий
  - Статус: TODO
  - Время выполнения: ~45 минут
  - Оценка времени: ~60 минут
  - Критерии готовности:
    - [ ] Проанализировать текущее использование кэша
    - [ ] Реализовать более интеллектуальную стратегию кэширования
    - [ ] Добавить настройку времени жизни кэша
    - [ ] Добавить тесты для проверки производительности
  - Ожидаемые результаты: Уменьшение накладных расходов на сбор метрик процессов

- [ ] ST-803: Добавить поддержку мониторинга использования памяти GPU
  - Тип: Rust / core / metrics / gpu
  - Примечания: Расширение мониторинга GPU для включения использования памяти
  - Приоритет: Средний
  - Статус: TODO
  - Время выполнения: ~60 минут
  - Оценка времени: ~60 минут
  - Критерии готовности:
    - [ ] Исследовать доступные источники данных для памяти GPU
    - [ ] Реализовать сбор метрик использования памяти GPU
    - [ ] Интегрировать с существующей системой мониторинга GPU
    - [ ] Добавить тесты для нового функционала
  - Ожидаемые результаты: Более полный мониторинг ресурсов GPU

## 2. Бэклог

- [ ] ST-804: Реализовать систему автоматического масштабирования приоритетов на основе нагрузки системы
  - Тип: Rust / core / policy / dynamic
  - Примечания: Динамическое масштабирование приоритетов процессов на основе текущей нагрузки системы
  - Приоритет: Средний
  - Статус: TODO
  - Время выполнения: ~90 минут
  - Оценка времени: ~90 минут
  - Критерии готовности:
    - [ ] Разработать алгоритм динамического масштабирования
    - [ ] Реализовать мониторинг нагрузки системы
    - [ ] Интегрировать с существующей системой политик
    - [ ] Добавить тесты для нового функционала
  - Ожидаемые результаты: Более адаптивное управление приоритетами процессов

- [ ] ST-805: Улучшить систему логирования с поддержкой ротации по времени и размеру
  - Тип: Rust / core / logging / rotation
  - Примечания: Расширенная система ротации логов с поддержкой времени и размера
  - Приоритет: Средний
  - Статус: TODO
  - Время выполнения: ~60 минут
  - Оценка времени: ~60 минут
  - Критерии готовности:
    - [ ] Реализовать ротацию по времени
    - [ ] Реализовать ротацию по размеру
    - [ ] Добавить настройку политик ротации
    - [ ] Добавить тесты для нового функционала
  - Ожидаемые результаты: Более гибкая система управления логами

- [ ] ST-806: Добавить поддержку мониторинга сетевых соединений на уровне приложений
  - Тип: Rust / core / metrics / network
  - Примечания: Расширенный мониторинг сетевых соединений с привязкой к приложениям
  - Приоритет: Средний
  - Статус: TODO
  - Время выполнения: ~60 минут
  - Оценка времени: ~60 минут
  - Критерии готовности:
    - [ ] Исследовать доступные источники данных для сетевых соединений
    - [ ] Реализовать сбор метрик сетевых соединений
    - [ ] Интегрировать с существующей системой классификации
    - [ ] Добавить тесты для нового функционала
  - Ожидаемые результаты: Более детальный мониторинг сетевой активности

## 3. Недавно сделано (Recently Done)

- [x] ST-781: Обновить тестовые случаи для использования ProcessRecord::default()
  - Тип: Rust / core / testing / refactoring
  - Примечания: Оптимизация тестовых случаев путем использования ProcessRecord::default() вместо ручной инициализации
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~30 минут
  - Результаты:
    - Успешно обновлены все тестовые случаи с использованием ProcessRecord::default()
    - Уменьшено дублирование кода в тестах
    - Сохранена полная функциональность всех тестов
    - Код успешно компилируется без ошибок
    - Улучшена читаемость и поддерживаемость тестового кода

- [x] ST-780: Исправить ошибки компиляции в тестовых случаях после добавления GPU полей
  - Тип: Rust / core / testing
  - Примечания: Обновление всех тестовых случаев после добавления GPU-метрик в ProcessRecord
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Результаты:
    - Обновлены все тестовые случаи с использованием ProcessRecord::default() вместо ручной инициализации
    - Исправлены ошибки компиляции, связанные с отсутствующими GPU-полями
    - Успешная компиляция всех модулей без ошибок
    - Сохранена функциональность всех тестов

- [x] ST-776: Добавить поддержку мониторинга температуры и энергопотребления GPU
  - Тип: Rust / core / metrics / gpu
  - Примечания: Расширение мониторинга GPU для включения температуры и энергопотребления
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Результаты:
    - Добавлены новые поля в ProcessGpuInfo: temperature_c, power_watts
    - Реализованы функции сбора метрик температуры и энергопотребления для NVIDIA, AMD, Intel GPU
    - Добавлены новые API endpoints: /api/gpu/temperature-power, /api/gpu/update-temp-power
    - Интегрировано с существующей системой мониторинга GPU
    - Добавлены comprehensive тесты для новых функций

- [x] ST-775: Улучшить интеграцию health monitoring с системой уведомлений
  - Тип: Rust / core / health / notifications
  - Примечания: Интеграция системы мониторинга здоровья с системой уведомлений
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Результаты:
    - Добавлены новые API endpoints: /api/health/monitoring, /api/health/diagnostics, /api/health/issues
    - Интегрирована система мониторинга здоровья с API сервером
    - Добавлены comprehensive тесты для новых функций
    - Реализована поддержка уведомлений о проблемах здоровья

- [x] ST-774: Реализовать поддержку мониторинга GPU для процессов
  - Тип: Rust / core / metrics / gpu
  - Примечания: Добавление мониторинга использования GPU на уровне процессов
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Результаты:
    - Создан новый модуль metrics/process_gpu.rs для мониторинга GPU на уровне процессов
    - Добавлены новые поля в ProcessRecord для хранения метрик GPU
    - Реализована структура ProcessGpuInfo для хранения информации о GPU, используемом процессом
    - Создан кэш ProcessGpuCache для эффективного хранения метрик GPU
    - Реализован ProcessGpuMonitor с поддержкой различных источников данных (DRM, NVIDIA, AMD, eBPF)
    - Добавлены методы для сбора метрик GPU через различные интерфейсы
    - Реализована интеграция с ProcessRecord через метод update_process_record_with_gpu_metrics
    - Добавлены глобальные экземпляры для удобного доступа
    - Обновлены модули: logging/snapshots.rs (добавлены GPU поля), metrics/mod.rs (добавлен новый модуль)
    - Создано 1 новый файл: metrics/process_gpu.rs
    - Реализация включает упрощённые версии для различных GPU вендоров с комментариями о том, что нужно для полной реализации

## 4. Блокеры

*(На данный момент нет активных блокеров)*