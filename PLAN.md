# SmoothTask — план задач

## Легенда статусов

- [ ] TODO       — задача ещё не делалась
- [~] IN PROGRESS — начата, но не завершена
- [x] DONE       — реализовано и покрыто тестами
- [!] BLOCKED    — есть блокер, нужна дополнительная информация

---

## 1. Ближайшие шаги (Next Up)

- [x] ST-498: Добавить интеграционные тесты для ML-классификатора
  - Тип: Rust / core / ml / тестирование
  - Критерии готовности:
    - ✅ Создать интеграционные тесты для CatBoostMLClassifier
    - ✅ Тестировать взаимодействие с PatternWatcher
    - ✅ Добавить тесты для различных сценариев классификации
    - ✅ Проверить обработку ошибок и fallback механизмы
  - Примечания: Реализованы comprehensive интеграционные тесты для ML-классификатора, включая тестирование интеграции с PatternWatcher, обработку ошибок, тестирование порогов уверенности, извлечение фич, объединение тегов и производительность. Тесты покрывают реальные сценарии использования и обеспечивают надежную работу ML-классификатора в различных условиях.
  - Приоритет: Высокий
  - Зависимости: ST-496, ST-497
  - Статус: COMPLETED

- [x] ST-499: Улучшить документацию API для новых функций
  - Тип: Документация / API
  - Критерии готовности:
    - ✅ Обновить API.md с информацией о новых ML-возможностях
    - ✅ Добавить примеры использования ML-классификатора
    - ✅ Документировать конфигурацию автообновления паттернов
    - ✅ Добавить примеры конфигурационных файлов
  - Примечания: Добавлена comprehensive документация для ML-классификатора, включая практические примеры использования, конфигурацию, интеграцию с системой классификации, обработку ошибок, производительность и мониторинг. Созданы примеры конфигурационных файлов для различных сценариев использования ML-классификатора.
  - Приоритет: Средний
  - Зависимости: ST-496, ST-497
  - Статус: COMPLETED

- [x] ST-500: Реализовать примеры использования новых функций
  - Тип: Примеры / документация
  - Критерии готовности:
    - ✅ Создать пример конфигурации с ML-классификатором
    - ✅ Добавить пример использования PatternWatcher
    - ✅ Создать пример интеграции с мониторингом производительности
    - ✅ Добавить примеры в README.md
  - Примечания: Примеры помогут пользователям быстро начать работу с новыми функциями
  - Приоритет: Средний
  - Зависимости: ST-495, ST-496, ST-497
  - Статус: COMPLETED

## 2. Бэклог

- [ ] ST-485: Исследовать и добавить поддержку eBPF-метрик
  - Тип: Rust / core / metrics / исследование
  - Критерии готовности:
    - ✅ Исследовать возможности eBPF для сбора метрик
    - ✅ Оценить производительность и совместимость
    - ✅ Добавить базовую поддержку, если применимо
  - Примечания: Потенциальное улучшение для будущих версий
  - Приоритет: Низкий

- [ ] ST-490: Реализовать расширенную систему уведомлений
  - Тип: Rust / core / notifications
  - Критерии готовности:
    - ✅ Исследовать возможности уведомлений через D-Bus
    - ✅ Добавить поддержку уведомлений о изменениях приоритетов
    - ✅ Интегрировать с системой логирования
  - Примечания: Улучшение пользовательского опыта
  - Приоритет: Низкий

## 3. Недавно сделано (Recently Done)

- [x] ST-500: Реализовать примеры использования новых функций
  - Тип: Примеры / документация
  - Примечания: Реализованы comprehensive примеры использования новых функций, включая конфигурацию ML-классификатора с PatternWatcher, примеры интеграции с мониторингом производительности приложений, примеры использования API для мониторинга и управления. Созданы практические примеры для быстрого старта пользователей с новыми функциями.
  - Статус: COMPLETED

- [x] ST-499: Улучшить документацию API для новых функций
  - Тип: Документация / API
  - Примечания: Добавлена comprehensive документация для ML-классификатора, включая практические примеры использования, конфигурацию, интеграцию с системой классификации, обработку ошибок, производительность и мониторинг. Созданы примеры конфигурационных файлов для различных сценариев использования ML-классификатора.
  - Статус: COMPLETED

- [x] ST-498: Добавить интеграционные тесты для ML-классификатора
  - Тип: Rust / core / ml / тестирование
  - Примечания: Реализованы comprehensive интеграционные тесты для ML-классификатора, включая тестирование интеграции с PatternWatcher, обработку ошибок, тестирование порогов уверенности, извлечение фич, объединение тегов и производительность. Тесты покрывают реальные сценарии использования и обеспечивают надежную работу ML-классификатора в различных условиях.
  - Статус: COMPLETED

- [x] ST-497: Добавить автообновление паттерн-базы приложений
  - Тип: Rust / core / classify
  - Примечания: Реализована функциональность автообновления паттерн-базы с поддержкой мониторинга изменений в директории паттернов, перезагрузки паттернов без перезапуска демона, и уведомлений об обновлениях. Добавлена конфигурация pattern_auto_update в Config с параметрами enabled, interval_sec и notify_on_update. Реализованы методы reload() и has_changes() в PatternDatabase для эффективного обновления паттернов. Создан PatternWatcher для мониторинга изменений в реальном времени. Добавлены comprehensive тесты для всех сценариев использования.
  - Статус: COMPLETED

- [x] ST-496: Улучшить ML-классификатор типов процессов
  - Тип: Rust / core / ml
  - Примечания: Реализован CatBoostMLClassifier с поддержкой загрузки предварительно обученных моделей. Добавлена конфигурация ml_classifier в Config. Интегрировано с основным циклом классификации. Поддерживаются оба формата моделей (JSON и ONNX) через feature flags. Добавлены comprehensive тесты для всех сценариев использования.
  - Статус: COMPLETED

- [x] ST-495: Исследовать и добавить поддержку мониторинга производительности приложений
  - Тип: Rust / core / metrics
  - Примечания: Реализован новый модуль app_performance.rs для мониторинга производительности приложений. Добавлены метрики задержки отклика, FPS для графических приложений, использования CPU и памяти на уровне отдельных процессов. Реализована система коллекции метрик с автоматическим удалением устаревших данных. Добавлены comprehensive unit-тесты для всех функций. Модуль интегрирован в основную систему метрик и готов для дальнейшего расширения с реальными источниками данных (eBPF, системные вызовы, интеграция с приложениями).
  - Статус: COMPLETED

- [x] ST-494: Добавить примеры конфигураций для разных сценариев
  - Тип: Документация / конфигурация
  - Примечания: Созданы примеры конфигураций для различных сценариев использования: рабочая станция, сервер, ноутбук, игровые системы и разработческие системы. Каждый пример содержит оптимизированные настройки для конкретного сценария с подробными комментариями и рекомендациями. Добавлены файлы smoothtask-gaming.yml и smoothtask-development.yml с специализированными настройками.
  - Статус: COMPLETED

- [x] ST-493: Улучшить обработку ошибок в метриках
  - Тип: Rust / core / metrics
  - Примечания: Улучшены сообщения об ошибках в system.rs и process.rs. Добавлены практические рекомендации по устранению неполадок (команды для проверки файлов и прав доступа). Улучшена обработка граничных случаев и добавлены более информативные сообщения об ошибках для удобства отладки.
  - Статус: COMPLETED

- [x] ST-492: Добавить расширенные интеграционные тесты для API
  - Тип: Тестирование / API
  - Примечания: Добавлены 8 новых интеграционных тестов для API: обработка ошибок, конкурентные запросы, валидация JSON, Content-Type заголовки, CORS, время ответа, консистентность ответов и стабильность health endpoint. Тесты покрывают граничные случаи и обеспечивают надежность API при различных сценариях использования.
  - Статус: COMPLETED

- [x] ST-491: Улучшить документацию Control API
  - Тип: Документация / API
  - Примечания: Значительно расширена документация API.md. Добавлены практические примеры использования: мониторинг производительности, отзывчивости, процессов, управление конфигурацией, интеграция с Prometheus/Grafana, мониторинг и алертинг, отладка, тестирование. Добавлены примеры на bash, Python и JSON для различных сценариев использования API.
  - Статус: COMPLETED

См. архив: docs/history/PLAN_DONE_archive.md

## 4. Блокеры

- [!] ST-099: Вернуть зависимость onnxruntime, когда появится стабильная версия с нужными фичами
  - Нужны: релиз onnxruntime с требуемыми возможностями.