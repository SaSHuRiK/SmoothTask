# SmoothTask — план задач

## Легенда статусов

- [ ] TODO       — задача ещё не делалась
- [~] IN PROGRESS — начата, но не завершена
- [x] DONE       — реализовано и покрыто тестами
- [!] BLOCKED    — есть блокер, нужна дополнительная информация

---

## 1. Ближайшие шаги (Next Up)

- [x] ST-451: Реализовать расширенный мониторинг энергопотребления
  - Тип: Rust / core / metrics
  - Критерии готовности:
    - ✅ Добавить мониторинг энергопотребления через RAPL или аналогичные интерфейсы
    - ✅ Интегрировать метрики энергопотребления в SystemMetrics
    - ✅ Написать unit-тесты для новых функций
    - ✅ Обновить документацию METRICS.md
  - Примечания: Расширение функциональности мониторинга для лучшего понимания энергопотребления системы.
  - Приоритет: Высокий (критично для энергоэффективного управления)
  - Результаты:
    - Реализована поддержка RAPL (Running Average Power Limit) для мониторинга энергопотребления
    - Поддержка нескольких интерфейсов: /sys/class/powercap/, /sys/devices/system/cpu/, /sys/class/drm/
    - Добавлены метрики для CPU, GPU и общей системы
    - Написаны comprehensive unit-тесты (20+ тестов)
    - Интеграция с существующей системой метрик

- [x] ST-452: Добавить поддержку мониторинга температуры компонентов
  - Тип: Rust / core / metrics
  - Критерии готовности:
    - ✅ Добавить мониторинг температуры CPU/GPU через sysfs или hwmon
    - ✅ Интегрировать метрики температуры в SystemMetrics
    - ✅ Написать unit-тесты для новых функций
    - ✅ Обновить документацию METRICS.md
  - Примечания: Расширение функциональности мониторинга для лучшего понимания теплового состояния системы.
  - Приоритет: Высокий (важно для термального управления)
  - Результаты:
    - Реализована поддержка нескольких интерфейсов: /sys/class/hwmon/, /sys/class/thermal/
    - Улучшенная логика определения типов устройств (CPU, GPU)
    - Поддержка специфичных для GPU путей (AMD, NVIDIA)
    - Написаны comprehensive unit-тесты (20+ тестов)
    - Интеграция с существующей системой метрик

## 2. Бэклог

- [ ] ST-451: Реализовать расширенный мониторинг энергопотребления
  - Тип: Rust / core / metrics
  - Критерии готовности:
    - Добавить мониторинг энергопотребления через RAPL или аналогичные интерфейсы
    - Интегрировать метрики энергопотребления в SystemMetrics
    - Написать unit-тесты для новых функций
    - Обновить документацию METRICS.md
  - Примечания: Расширение функциональности мониторинга для лучшего понимания энергопотребления системы.

- [ ] ST-452: Добавить поддержку мониторинга температуры компонентов
  - Тип: Rust / core / metrics
  - Критерии готовности:
    - Добавить мониторинг температуры CPU/GPU через sysfs или hwmon
    - Интегрировать метрики температуры в SystemMetrics
    - Написать unit-тесты для новых функций
    - Обновить документацию METRICS.md
  - Примечания: Расширение функциональности мониторинга для лучшего понимания теплового состояния системы.

## 3. Недавно сделано (Recently Done)

- [x] ST-452: Добавить поддержку мониторинга температуры компонентов
  - Тип: Rust / core / metrics
  - Примечания: Реализация расширенного мониторинга температуры CPU/GPU через hwmon и thermal интерфейсы.

- [x] ST-451: Реализовать расширенный мониторинг энергопотребления
  - Тип: Rust / core / metrics
  - Примечания: Реализация мониторинга энергопотребления через RAPL и другие интерфейсы.

- [x] ST-450: Обновить документацию с описанием новых функций
  - Тип: Documentation
  - Примечания: Полное обновление документации для новых функций.

- [x] ST-449: Завершить улучшение системы конфигурации с поддержкой динамической перезагрузки
  - Тип: Rust / core / config
  - Примечания: Завершение реализации динамической перезагрузки конфигурации.

- [x] ST-448: Завершить реализацию системы оповещений и уведомлений
  - Тип: Rust / core / notifications
  - Примечания: Завершение реализации системы уведомлений для полной функциональности.

- [x] ST-447: Реализовать API эндпоинты для управления уведомлениями
  - Тип: Rust / core / api
  - Примечания: Завершение интеграции системы уведомлений с API для внешнего управления.

- [x] ST-446: Реализовать интеграцию системы уведомлений в основной демон
  - Тип: Rust / core / notifications
  - Примечания: Критическая задача для завершения реализации системы уведомлений.

- [x] ST-444: Запустить полный набор тестов для проверки функциональности
  - Тип: Rust / core / testing
  - Примечания: Критическая задача для обеспечения качества.

- [x] ST-443: Добавить фичу libnotify в Cargo.toml
  - Тип: Rust / core / build
  - Примечания: Необходимо для корректной работы системы уведомлений.

- [x] ST-442: Очистить предупреждения о неиспользуемых переменных в коде
  - Тип: Rust / core / cleanup
  - Примечания: Улучшение качества кода.

- [x] ST-441: Исправить ошибки компиляции в тестах API сервера
  - Тип: Rust / core / bugfix
  - Примечания: Критическая ошибка, препятствующая запуску тестов.

- [x] ST-440: Улучшить API эндпоинт перезагрузки конфигурации
  - Тип: Rust / core / api
  - Примечания: Улучшение функциональности API для управления конфигурацией.

- [x] ST-439: Исправить реализацию перезагрузки конфигурации в run_daemon
  - Тип: Rust / core / bugfix
  - Примечания: Критическая ошибка, препятствующая полной работе динамической перезагрузки.

- [x] ST-432: Реализовать расширенный мониторинг GPU метрик
  - Тип: Rust / core / metrics
  - Примечания: Расширение функциональности мониторинга для лучшего понимания нагрузки на графическую подсистему.

- [x] ST-431: Исправить нестабильный тест в scheduling_latency модуле
  - Тип: Rust / core / tests
  - Примечания: Исправлен нестабильный тест test_latency_probe_collects_measurements.

- [x] ST-426: Улучшить систему классификации процессов с использованием ML
  - Тип: Rust / core / classify
  - Примечания: Улучшение точности классификации процессов для более эффективного управления ресурсами.

- [x] ST-427: Добавить поддержку мониторинга дисковых операций
  - Тип: Rust / core / metrics
  - Примечания: Расширение функциональности мониторинга для лучшего понимания нагрузки на дисковую подсистему.

- [x] ST-425: Добавить поддержку мониторинга сетевой активности
  - Тип: Rust / core / metrics
  - Примечания: Расширение функциональности мониторинга для лучшего понимания сетевой нагрузки.

*(Более старые задачи перенесены в архив: docs/history/PLAN_DONE_archive.md)*

См. архив: docs/history/PLAN_DONE_archive.md

## 4. Блокеры

- [!] ST-099: Вернуть зависимость onnxruntime, когда появится стабильная версия с нужными фичами
  - Нужны: релиз onnxruntime с требуемыми возможностями.