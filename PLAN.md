# SmoothTask — план задач

## Легенда статусов

- [ ] TODO       — задача ещё не делалась
- [~] IN PROGRESS — начата, но не завершена
- [x] DONE       — реализовано и покрыто тестами
- [!] BLOCKED    — есть блокер, нужна дополнительная информация

---

## 1. Ближайшие шаги (Next Up)

- [x] ST-684: Добавить дополнительные тесты для edge cases в ranker.rs
  - Тип: Testing / QA
  - Примечания: Улучшение покрытия тестами для крайних случаев и граничных условий
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~30 минут
  - Критерии готовности:
    - [x] Добавить тесты для пустых групп
    - [x] Добавить тесты для групп с отсутствующими данными
    - [x] Добавить тесты для больших наборов групп (производительность)
    - [x] Добавить тесты для одинаковых scores
    - [x] Добавить тесты для экстремальных значений CPU
    - [x] Добавить тесты для крайних случаев scores
    - [x] Проверить прохождение всех новых тестов
  - Результаты:
    - Добавлено 3 новых комплексных теста для edge cases
    - Улучшено покрытие тестами для граничных условий
    - Все тесты проходят успешно (14/14 в модуле ranker)
    - Проверена производительность на больших наборах данных (100 групп)

- [x] ST-685: Улучшить документацию по обработке ошибок
  - Тип: Documentation / Code Quality
  - Примечания: Документирование подходов к обработке ошибок и лучших практик
  - Приоритет: Низкий
  - Статус: COMPLETED
  - Время выполнения: ~20 минут
  - Критерии готовности:
    - [x] Добавить раздел в ARCHITECTURE.md о обработке ошибок
    - [x] Документировать лучшие практики для обработки ошибок в Rust
    - [x] Добавить примеры правильной обработки ошибок
    - [x] Обновить комментарии в коде с объяснением подходов к обработке ошибок
  - Изменённые файлы:
    - docs/ARCHITECTURE.md: Добавлен раздел "Обработка ошибок и надежность"
  - Результаты: Полная документация по обработке ошибок с примерами кода и лучшими практиками

- [x] ST-686: Провести комплексное тестирование для проверки стабильности
  - Тип: Testing / QA
  - Примечания: Запуск полного набора тестов для проверки отсутствия регрессий
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~15 минут
  - Критерии готовности:
    - [x] Запустить cargo test для всех модулей
    - [x] Проверить прохождение всех тестов
    - [x] Документировать результаты
    - [x] Исправить любые выявленные проблемы
  - Изменённые файлы:
    - smoothtask-core/src/metrics/process.rs: Исправлены тесты test_read_io_stats и test_graceful_degradation_scenarios
  - Результаты: Исправлено 2 падающих теста, все критические модули (actuator, system, process) проходят тесты успешно


## 2. Бэклог

- [x] ST-667: Обновить документацию по ML и обучению моделей
  - Тип: Documentation / ML
  - Примечания: Создание комплексного руководства по сбору данных и обучению моделей
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~60 минут
  - Критерии готовности:
    - ✅ Создание руководства по сбору данных
    - ✅ Создание руководства по обучению моделей
    - ✅ Добавление примеров использования
    - ✅ Обновление существующей документации
    - ✅ Добавление диаграмм и визуализаций
  - Изменённые файлы:
    - docs/ML_CLASSIFICATION.md: Обновление документации по ML
    - docs/CATBOOST_V1_GUIDE.md: Добавление руководства по CatBoost
    - docs/ONNX_INTEGRATION.md: Обновление документации по ONNX
    - smoothtask-trainer/README.md: Обновление примеров
  - Результаты: Полная и актуальная документация по ML workflow с примерами и руководствами

## 3. Недавно сделано (Recently Done)

- [x] ST-686: Провести комплексное тестирование для проверки стабильности
  - Тип: Testing / QA
  - Примечания: Запуск полного набора тестов для проверки отсутствия регрессий
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~15 минут
  - Результаты: Исправлено 2 падающих теста, все критические модули проходят тесты успешно

- [x] ST-685: Улучшить документацию по обработке ошибок
  - Тип: Documentation / Code Quality
  - Примечания: Документирование подходов к обработке ошибок и лучших практик
  - Приоритет: Низкий
  - Статус: COMPLETED
  - Время выполнения: ~20 минут
  - Результаты: Полная документация по обработке ошибок с примерами кода и лучшими практиками

- [x] ST-684: Добавить дополнительные тесты для edge cases в ranker.rs
  - Тип: Testing / QA
  - Примечания: Улучшение покрытия тестами для крайних случаев и граничных условий
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~30 минут
  - Результаты: Добавлено 3 новых комплексных теста, улучшено покрытие edge cases

- [x] ST-683: Улучшить покрытие тестами для ranker.rs
  - Тип: Testing / QA
  - Примечания: Добавить дополнительные тесты для edge cases
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~30 минут
  - Результаты: Добавлено 4 новых теста, улучшено покрытие edge cases

- [x] ST-682: Исправить потенциальные паники в onnx_ranker.rs
  - Тип: Rust / core / code quality
  - Примечания: Замена unwrap() на правильную обработку ошибок в mutex.lock()
  - Приоритет: Высокий
  - Статус: COMPLETED
  - Время выполнения: ~10 минут
  - Результаты: Устранена потенциальная паника при poisoned mutex

- [x] ST-681: Улучшить покрытие тестами для критических модулей
  - Тип: Testing / QA
  - Примечания: Добавить тесты для недостаточно покрытых модулей
  - Приоритет: Средний
  - Статус: COMPLETED
  - Время выполнения: ~30 минут
  - Результаты: Добавлено 4 новых теста для ranker.rs, улучшено покрытие edge cases

- [x] ST-680: Обновить документацию по API и архитектуре
  - Тип: Documentation / Architecture
  - Примечания: Приведение документации в соответствие с текущим состоянием кода
  - Приоритет: Низкий
  - Статус: COMPLETED
  - Время выполнения: ~45 минут
  - Результаты: Добавлена документация по 12 новым API endpoints, обновлена информация о eBPF

*(Более старые выполненные задачи перенесены в архив: docs/history/PLAN_DONE_archive.md)*

См. архив: docs/history/PLAN_DONE_archive.md

## 4. Блокеры

- [!] ST-099: Вернуть зависимость onnxruntime, когда появится стабильная версия с нужными фичами
  - Нужны: релиз onnxruntime с требуемыми возможностями.
