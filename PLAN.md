# SmoothTask — план задач

## Легенда статусов

- [ ] TODO       — задача ещё не делалась
- [~] IN PROGRESS — начата, но не завершена
- [x] DONE       — реализовано и покрыто тестами
- [!] BLOCKED    — есть блокер, нужна дополнительная информация

---

## 1. Ближайшие шаги (Next Up)

- [x] ST-001: Глобальные метрики /proc + PSI
  - Тип: Rust / core / metrics
  - Критерии готовности:
    - Парсинг `/proc/stat`, `/proc/meminfo`, `/proc/loadavg`, `/proc/pressure/{cpu,io,memory}`;
    - Unit-тесты на фиктивных данных (без зависимости от реального /proc);
    - API готово для интеграции в сборщик снапшотов.
  - Примечания: реализованы парсеры и фиктивный /proc в тестах.

- [x] ST-002: Экспорт снапшотов в SQLite и чтение в трейнере
  - Тип: Rust + Python / logging + trainer
  - Критерии готовности:
    - Запись снапшотов через `logging::snapshots` в SQLite;
    - Утилиты чтения в `smoothtask-trainer`;
    - Базовые тесты на запись/чтение.
  - Примечания: реализованы тесты для записи (Rust) и чтения (Python), исправлена ошибка с количеством колонок в INSERT-запросе.

## 2. Бэклог

- [ ] ST-003: Сбор пользовательского ввода (evdev) для user_active/idle
  - Тип: Rust / core / metrics
- [ ] ST-004: Минимальный WindowIntrospector (X11/Wayland) для фокуса окна
  - Тип: Rust / core / metrics
- [ ] ST-005: Аудио метрики (PipeWire/PulseAudio, XRUN)
  - Тип: Rust / core / metrics

## 3. Готово (Done)

- [x] ST-000: Валидация конфигурации при загрузке
  - Примечания: покрыто юнит-тестом загрузки `Config::load`.

## 4. Блокеры

- [!] ST-099: Вернуть зависимость onnxruntime, когда появится стабильная версия с нужными фичами
  - Нужны: релиз onnxruntime с требуемыми возможностями.
