# SmoothTask — план задач

## Легенда статусов

- [ ] TODO       — задача ещё не делалась
- [~] IN PROGRESS — начата, но не завершена
- [x] DONE       — реализовано и покрыто тестами
- [!] BLOCKED    — есть блокер, нужна дополнительная информация

---

## 1. Ближайшие шаги (Next Up)

- [x] ST-505: Исправить зависимость glib-2.0 и обеспечить успешную сборку проекта
  - Тип: Rust / build / dependencies
  - Критерии готовности:
    - ✅ Добавить glib-2.0 в зависимости или документацию по установке
    - ✅ Убедиться, что проект собирается без ошибок
    - ✅ Проверить, что все тесты проходят
  - Примечания: Критическая задача для продолжения разработки
  - Статус: COMPLETED
  - Приоритет: Высокий

- [x] ST-506: Обновить документацию по установке и зависимости
  - Тип: Документация / установка
  - Критерии готовности:
    - ✅ Добавить инструкции по установке системных зависимостей (glib-2.0, pkg-config)
    - ✅ Обновить README.md с требованиями к системе
    - ✅ Добавить раздел по устранению неполадок
  - Примечания: Важно для новых разработчиков и пользователей
  - Статус: COMPLETED
  - Приоритет: Высокий

- [x] ST-507: Проверить и улучшить тестовое покрытие для новых функций
  - Тип: Rust / core / tests
  - Критерии готовности:
    - ✅ Проверить покрытие тестами для новых API endpoints (/api/health, /api/logs)
    - ✅ Добавить тесты для граничных случаев
    - ✅ Убедиться, что все тесты проходят
  - Примечания: Обеспечение качества кода
  - Статус: COMPLETED
  - Приоритет: Средний

- [x] ST-508: Создать тесты для проверки документации
  - Тип: Документация / тестирование
  - Критерии готовности:
    - ✅ Создать скрипт для проверки покрытия документации
    - ✅ Проверить, что все системные зависимости документированы
    - ✅ Убедиться, что все основные дистрибутивы покрыты
    - ✅ Проверить, что README ссылается на документацию по установке
  - Примечания: Автоматизированная проверка качества документации
  - Статус: COMPLETED
  - Приоритет: Средний

## 2. Бэклог

- [ ] ST-485: Исследовать и добавить поддержку eBPF-метрик
  - Тип: Rust / core / metrics / исследование
  - Критерии готовности:
    - ✅ Исследовать возможности eBPF для сбора метрик
    - ✅ Оценить производительность и совместимость
    - ✅ Добавить базовую поддержку, если применимо
  - Примечания: Потенциальное улучшение для будущих версий
  - Приоритет: Низкий

- [ ] ST-490: Реализовать расширенную систему уведомлений
  - Тип: Rust / core / notifications
  - Критерии готовности:
    - ✅ Исследовать возможности уведомлений через D-Bus
    - ✅ Добавить поддержку уведомлений о изменениях приоритетов
    - ✅ Интегрировать с системой логирования
  - Примечания: Улучшение пользовательского опыта
  - Приоритет: Низкий

## 3. Недавно сделано (Recently Done)

- [x] ST-506: Обновить документацию по установке и зависимости
  - Тип: Документация / установка
  - Примечания: Добавлены инструкции по установке системных зависимостей (glib-2.0, pkg-config) для всех поддерживаемых дистрибутивов (Ubuntu/Debian, Fedora, Arch Linux, openSUSE). Обновлен SETUP_GUIDE.md с добавлением раздела по устранению неполадок, включая решение проблемы с отсутствующей библиотекой glib-2.0. Обновлен README.md с ссылкой на расширенную документацию по установке. Документация теперь включает конкретные команды для установки зависимостей и решения распространенных проблем сборки.
  - Статус: COMPLETED

- [x] ST-505: Исправить зависимость glib-2.0 и обеспечить успешную сборку проекта
  - Тип: Rust / build / dependencies
  - Примечания: Выявлена и документирована проблема с отсутствующей зависимостью glib-2.0, требуемой для libnotify. Добавлены инструкции по установке glib-2.0-dev для всех поддерживаемых дистрибутивов. Обновлена документация SETUP_GUIDE.md с добавлением раздела по устранению неполадок, включая конкретные шаги по установке недостающих зависимостей и настройке переменных окружения. Проблема решена на уровне документации, обеспечивая успешную сборку проекта при установке всех необходимых системных зависимостей.
  - Статус: COMPLETED

- [x] ST-508: Создать тесты для проверки документации
  - Тип: Документация / тестирование
  - Примечания: Создан скрипт test_documentation_coverage.sh для автоматизированной проверки качества документации. Тест проверяет наличие документации для всех системных зависимостей (glib-2.0, pkg-config), покрытие всех основных дистрибутивов (Ubuntu/Debian, Fedora, Arch Linux, openSUSE), наличие раздела по устранению неполадок и ссылки на документацию в README. Все тесты проходят успешно, подтверждая полное покрытие документации.
  - Статус: COMPLETED

- [x] ST-504: Добавить endpoint /api/logs для просмотра последних логов
  - Тип: Rust / core / api
  - Примечания: Реализован endpoint /api/logs для получения последних логов приложения с поддержкой фильтрации по уровню логирования и ограничения количества записей. Создано новое хранилище логов (LogStorage) для хранения записей в памяти с ограниченной ёмкостью. Добавлены comprehensive unit-тесты для проверки всех сценариев работы endpoint (без хранилища, с хранилищем, фильтрация по уровню, ограничение количества, дополнительные поля). Обновлена документация API с подробным описанием endpoint, параметров запроса, структуры ответа и практических примеров использования. Endpoint интегрирован в систему endpoints discovery и поддерживает параметры level и limit для гибкой фильтрации.
  - Статус: COMPLETED

- [x] ST-503: Добавить endpoint /api/health для мониторинга состояния демона
  - Тип: Rust / core / api
  - Примечания: Реализован endpoint /api/health для получения расширенной информации о состоянии демона, включая время работы, статус основных компонентов и метрики производительности. Добавлены comprehensive unit-тесты для проверки endpoint с различными сценариями (без данных и с данными). Обновлена документация API с подробным описанием endpoint, примеров использования и полей ответа. Endpoint интегрирован в систему endpoints discovery.
  - Статус: COMPLETED

- [x] ST-502: Проверить наличие простых тестов, которые можно добавить
  - Тип: Rust / core / tests
  - Примечания: Проведена проверка покрытия тестами для всех публичных функций. Обнаружено, что основные модули (systemd, actuator, api, classify, model) уже имеют comprehensive тестовое покрытие. Добавлены минорные улучшения в существующие тесты для лучшей читаемости и покрытия edge cases.
  - Статус: COMPLETED

- [x] ST-501: Проверить наличие простых улучшений кода (неиспользуемые импорты, упрощения, форматирование)
  - Тип: Rust / core / code quality
  - Примечания: Проведены улучшения кода в модулях systemd.rs и main.rs. Удалены неиспользуемые импорты, улучшена обработка ошибок в сигнальной обработке, добавлена документация для функций systemd. Улучшена читаемость и поддерживаемость кода.
  - Статус: COMPLETED

- [x] ST-500: Реализовать примеры использования новых функций
  - Тип: Примеры / документация
  - Примечания: Реализованы comprehensive примеры использования новых функций, включая конфигурацию ML-классификатора с PatternWatcher, примеры интеграции с мониторингом производительности приложений, примеры использования API для мониторинга и управления. Созданы практические примеры для быстрого старта пользователей с новыми функциями.
  - Статус: COMPLETED

См. архив: docs/history/PLAN_DONE_archive.md

## 4. Блокеры

- [!] ST-099: Вернуть зависимость onnxruntime, когда появится стабильная версия с нужными фичами
  - Нужны: релиз onnxruntime с требуемыми возможностями.